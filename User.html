<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>User View - Cricket Auction</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial;
  background:radial-gradient(circle at top,#1e3c72,#2a5298,#000);
  padding:15px;
  color:#fff;
}
.container{max-width:420px;margin:auto}

/* NAV */
nav{
  display:flex;
  gap:10px;
  margin-bottom:15px;
}
nav button{
  flex:1;
  padding:10px;
  border:none;
  border-radius:12px;
  font-weight:bold;
  background:#00c853;
  color:#fff;
}

/* INPUTS */
input,button{
  width:100%;
  padding:12px;
  margin:6px 0;
  font-size:16px;
  border-radius:14px;
  border:none;
}
input{text-transform:uppercase}

/* CARD */
.card{
  backdrop-filter: blur(12px);
  background:rgba(255,255,255,0.15);
  border-radius:22px;
  box-shadow:0 20px 40px rgba(0,0,0,.5);
  overflow:hidden;
  margin-bottom:15px;
}
.header{
  padding:16px;
  text-align:center;
  font-weight:bold;
  font-size:20px;
  background:linear-gradient(135deg,#ff512f,#dd2476);
}
.photo{
  width:100%;
  height:360px;
  object-fit:fill;
  image-rendering:auto;
  background:#111;
}
.details{padding:16px;text-transform:uppercase}
.name{text-align:center;font-size:22px;font-weight:bold}
.row{display:flex;justify-content:space-between;margin:8px 0}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
  gap:12px;
}
.teamCard,.playerCard{
  background:#fff;
  color:#000;
  border-radius:16px;
  overflow:hidden;
  cursor:pointer;
}
.teamCard img,.playerCard img{
  width:100%;
  height:140px;
  object-fit:cover;
  image-rendering:auto;
}
.info{text-align:center;padding:10px;font-weight:bold}
.small{font-size:13px;opacity:.8}

/* BADGES */
.badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:20px;
  font-size:12px;
  margin-top:6px;
}
.owner{background:#ffc107;color:#000}
.icon{background:#0d6efd;color:#fff}
.captain{background:#dc3545;color:#fff}

/* ===== SPECIAL LEADER CARDS ===== */
.ownerCard{
  border:3px solid #ffc107;
  box-shadow:0 0 15px rgba(255,193,7,.7);
}

.iconCard{
  border:3px solid #0d6efd;
  box-shadow:0 0 15px rgba(13,110,253,.6);
}

.captainCard{
  border:3px solid #dc3545;
  box-shadow:0 0 18px rgba(220,53,69,.7);
}
/* ===== LEADERS ROW (2nd row) ===== */
.leadersGrid{
  display:grid;
  grid-template-columns:repeat(3, 1fr); /* EXACT 3 CARDS */
  gap:12px;
  margin-bottom:15px;
}
/* ===== SMALL OWNER CARD ===== */
.ownerCard .photo{
  height:280px; 
  object-fit: fill;       /* ‚¨áÔ∏è reduced from 360px */
}

.ownerCard .details{
  padding:10px;        /* ‚¨áÔ∏è reduced padding */
}

.ownerCard .name{
  font-size:18px;      /* ‚¨áÔ∏è smaller name */
}

/* ===== WELCOME HEADER STYLE ===== */
.welcomeBox{
  text-align:center;
  margin-bottom:18px;
  animation:fadeSlide 1.2s ease forwards;
}

.welcomeTitle{
  font-size:16px;
  font-weight:900;
  letter-spacing:1px;
  margin-bottom:6px;
  background:linear-gradient(90deg,#ffd200,#ff512f,#dd2476);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 0 18px rgba(255,81,47,.6);
}

.welcomeSub{
  font-size:13px;
  font-weight:bold;
  letter-spacing:.5px;
  color:#ffffffcc;
  text-transform:uppercase;
  text-shadow:0 0 10px rgba(255,255,255,.4);
}

/* ===== ANIMATION ===== */
@keyframes fadeSlide{
  from{
    opacity:0;
    transform:translateY(-20px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}


</style>
</head>

<body>

<div class="container">
<div class="welcomeBox">
  <h2 class="welcomeTitle">WELCOME TO MPL SEASON - 3</h2>
  <h5 class="welcomeSub">Website Designed & Developed by MOHAMMAD SUFIYAN</h5>
</div>

<!-- IMPORT DATA -->
<div class="card">
  <div class="details">
    <h3>üìÇ Import Auction Data</h3>
    <input type="file" accept=".json" onchange="importData(this)">
    <div class="small">Import file from Pratham Acharya</div>
  </div>
</div>

<!-- NAV -->
<nav>
  <button onclick="showSection('teams')">TEAMS</button>
  <button onclick="showSection('player')">PLAYER</button>
</nav>

<!-- PLAYER SEARCH -->
<div id="playerSection" style="display:none">
  <input id="searchNo" placeholder="Enter Player Number">
  <button onclick="showPlayer()">Show Player</button>
  <div id="playerOut"></div>
</div>

<!-- TEAMS LIST -->
<div id="teamsSection">
  <h2>üèè MPL SEASON - 3 Teams</h2>
  <div id="teamsGrid" class="grid"></div>
</div>

<!-- TEAM DETAIL -->
<div id="teamDetail" style="display:none"></div>

</div>

<script>
let players = JSON.parse(localStorage.getItem("players")) || {};
let teams   = JSON.parse(localStorage.getItem("teams")) || {};

/* IMPORT */
function importData(input){
  let file = input.files[0];
  if(!file) return;

  let reader = new FileReader();
  reader.onload = e=>{
    let data = JSON.parse(e.target.result);
    players = data.players || {};
    teams   = data.teams || {};
    localStorage.setItem("players", JSON.stringify(players));
    localStorage.setItem("teams", JSON.stringify(teams));
    loadTeams();
  };
  reader.readAsText(file);
}

/* SECTION SWITCH */
function showSection(sec){
  playerSection.style.display = sec==="player" ? "block" : "none";
  teamsSection.style.display  = sec==="teams"  ? "block" : "none";
  teamDetail.style.display    = "none";
}

/* PLAYER PROFILE */
function showPlayer(){
  let p = players[searchNo.value];
  if(!p){
    playerOut.innerHTML =
      "<div class='card'><div class='details'>PLAYER NOT FOUND</div></div>";
    return;
  }

  playerOut.innerHTML = `
  <div class="card">
    <div class="header">PLAYER PROFILE</div>
    ${p.img ? `<img class="photo" src="${p.img}">` : ""}
    <div class="details">
      <div class="name">${p.name}</div>
      <div class="row"><span>ROLE</span><span>${p.role}</span></div>
      <div class="row"><span>PLACE</span><span>${p.place || "-"}</span></div>
      <div class="row">
        <span>TEAM</span>
        <span>${p.team ? teams[p.team]?.name : "NOT SOLD"}</span>
      </div>
      <div class="row"><span>BASE PRICE</span><span>1000</span></div>
    </div>
  </div>`;
}

/* LOAD TEAMS */
function loadTeams(){
  teamsGrid.innerHTML="";
  Object.keys(teams).forEach(t=>{
    teamsGrid.innerHTML+=`
    <div class="teamCard" onclick="openTeam('${t}')">
      <img src="${teams[t].logo}">
      <div class="info">${teams[t].name}</div>
    </div>`;
  });
}

/* TEAM DETAIL (ONLY FEATURE ADDED HERE) */
function openTeam(team){
  teamsSection.style.display="none";
  teamDetail.style.display="block";

  let t = teams[team];
  let l = t.leaders || {};

  let html = `<button onclick="backToTeams()">‚¨Ö Back</button>`;

  /* OWNER */
  if(l.owner){
    html += `
   <div class="card ownerCard">
      <img class="photo" src="${l.owner.img}">
      <div class="details">
        <div class="name">${l.owner.name}</div>
        <span class="badge owner">OWNER</span>
      </div>
    </div>`;
  }

  /* ICONS + CAPTAIN */
  html += `<div class="leadersGrid">`;


  if(l.icons){
    l.icons.forEach(i=>{
      html += `
      <div class="playerCard iconCard">

        <img src="${i.img}">
        <div class="info">
          ${i.name}<br>
          <span class="small">${i.category}</span><br>
          <span class="small">${i.place}</span><br>
          <span class="badge icon">ICON</span>
        </div>
      </div>`;
    });
  }

  if(l.captain){
    html += `
    <div class="playerCard captainCard">

      <img src="${l.captain.img}">
      <div class="info">
        ${l.captain.name}<br>
        <span class="small">${l.captain.category}</span><br>
        <span class="small">${l.captain.place}</span><br>
        <span class="badge captain">CAPTAIN</span>
        </div>
      </div>`;
  }

  html += `</div><h3>PLAYERS</h3><div class="grid">`;

  /* EXISTING PLAYERS (UNCHANGED) */
  Object.values(players).forEach(p=>{
    if(p.team === team){
      html += `
      <div class="playerCard">
        <img src="${p.img}">
        <div class="info">
          ${p.name}<br>
          <span class="small">${p.place || "-"}</span><br>
          BASE: 2000
        </div>
      </div>`;
    }
  });

  teamDetail.innerHTML = html + "</div>";
}

function backToTeams(){
  teamDetail.style.display="none";
  teamsSection.style.display="block";
}

/* INIT */
loadTeams();
</script>

</body>
</html>
